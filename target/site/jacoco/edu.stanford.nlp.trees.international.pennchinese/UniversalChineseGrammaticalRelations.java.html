<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UniversalChineseGrammaticalRelations.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Stanford CoreNLP</a> &gt; <a href="index.source.html" class="el_package">edu.stanford.nlp.trees.international.pennchinese</a> &gt; <span class="el_source">UniversalChineseGrammaticalRelations.java</span></div><h1>UniversalChineseGrammaticalRelations.java</h1><pre class="source lang-java linenums">// Stanford Dependencies - Code for producing and using Stanford dependencies.
// Copyright © 2005-2014 The Board of Trustees of
// The Leland Stanford Junior University. All Rights Reserved.
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License
// as published by the Free Software Foundation; either version 2
// of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program; if not, write to the Free Software
// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
//
// For more information, bug reports, fixes, contact:
//    Christopher Manning
//    Dept of Computer Science, Gates 1A
//    Stanford CA 94305-9010
//    USA
//    parser-support@lists.stanford.edu
//    http://nlp.stanford.edu/software/stanford-dependencies.shtml

package edu.stanford.nlp.trees.international.pennchinese;

import edu.stanford.nlp.trees.GrammaticalRelation;
import edu.stanford.nlp.trees.HeadFinder;
import edu.stanford.nlp.trees.tregex.TregexPatternCompiler;
import edu.stanford.nlp.international.Language;

import java.util.Collections;
import java.util.List;
import java.util.ArrayList;
import java.util.Set;
import java.util.HashSet;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReadWriteLock;
import java.util.concurrent.locks.ReentrantReadWriteLock;

import static edu.stanford.nlp.trees.GrammaticalRelation.DEPENDENT;

/**
 * ChineseGrammaticalRelations is a
 * set of {@link GrammaticalRelation} objects for the Chinese language.
 * Examples are from CTB_001.fid
 *
 * TODO(pliang): need to take some of these relations and move them into a
 * Universal Stanford Dependencies class (e.g., dep, arg, mod).
 * Currently, we have an external data structure that stores information about
 * whether a relation is universal or not, but that should probably be moved
 * into GrammaticalRelation.
 *
 * TODO(pliang): add an option to produce trees which use only the USD
 * relations rather than the more specialized Chinese ones.
 *
 * @author Galen Andrew
 * @author Pi-Chuan Chang
 * @author Huihsin Tseng
 * @author Marie-Catherine de Marneffe
 * @author Percy Liang
 * @author Peng Qi
 * @see edu.stanford.nlp.trees.GrammaticalStructure
 * @see GrammaticalRelation
 * @see UniversalChineseGrammaticalStructure
 */
public class UniversalChineseGrammaticalRelations {

  /** This class is just a holder for static classes
   *  that act a bit like an enum.
   */
<span class="nc" id="L76">  private UniversalChineseGrammaticalRelations() {}</span>

  // By setting the HeadFinder to null, we find out right away at
  // runtime if we have incorrectly set the HeadFinder for the
  // dependency tregexes
<span class="fc" id="L81">  private static final TregexPatternCompiler tregexCompiler = new TregexPatternCompiler((HeadFinder) null);</span>


  private static final String COMMA_PATTERN = &quot;/^,|，$/&quot;;
  private static final String MODAL_PATTERN = &quot;/^(可(以|能)?)|能够?|应该?|将要?|必须|会$/&quot;;
  private static final String LOCATION_NOUNS = &quot;/^((东|西|南|北)(边|侧|部|岸|麓|畔))|附近|近?旁|旁?边$/&quot;;

  /** Return an unmodifiable list of grammatical relations.
   *  Note: the list can still be modified by others, so you
   *  should still get a lock with {@code valuesLock()} before
   *  iterating over this list.
   *
   *  @return A list of grammatical relations
   */
  public static List&lt;GrammaticalRelation&gt; values() {
<span class="fc" id="L96">    return Collections.unmodifiableList(values);</span>
  }

<span class="fc" id="L99">  private static final ReadWriteLock valuesLock = new ReentrantReadWriteLock();</span>

  public static Lock valuesLock() {
<span class="fc" id="L102">    return valuesLock.readLock();</span>
  }


  public static GrammaticalRelation valueOf(String s) {
<span class="nc" id="L107">    return GrammaticalRelation.valueOf(s, values(), valuesLock());</span>
  }

  ////////////////////////////////////////////////////////////
  // ARGUMENT relations
  ////////////////////////////////////////////////////////////

  /**
   * The &quot;argument&quot; (arg) grammatical relation (abstract).
   * Arguments are required by their heads.
   */
<span class="fc" id="L118">  public static final GrammaticalRelation ARGUMENT =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;arg&quot;, &quot;argument&quot;, DEPENDENT);

  /**
   * The &quot;subject&quot; (subj) grammatical relation (abstract).
   */
<span class="fc" id="L124">  public static final GrammaticalRelation SUBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;subj&quot;, &quot;subject&quot;, ARGUMENT);

  /**
   * The &quot;nominal subject&quot; (nsubj) grammatical relation.  A nominal subject is
   * a subject which is an noun phrase.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (ROOT
   *     (IP
   *       (NP
   *         (NP (NR 上海) (NR 浦东))
   *         (NP (NN 开发)
   *           (CC 与)
   *           (NN 法制) (NN 建设)))
   *       (VP (VV 同步))))
   * Output:
   *   nsubj(同步, 建设)
   *
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L148">  public static final GrammaticalRelation NOMINAL_SUBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;nsubj&quot;, &quot;nominal subject&quot;,
        SUBJECT, &quot;IP|NP&quot;, tregexCompiler,
            &quot;IP &lt;( ( NP|QP=target!&lt; NT ) $+ ( /^VP|VCD|IP/  !&lt; VE !&lt;VC !&lt;SB !&lt;LB !&lt;:NP !&lt;:PP )) !$- BA&quot;,
            // Handle the case where the subject and object is separated by a comma
            &quot;IP &lt;( ( NP|QP=target!&lt; NT ) $+ (PU (&lt;: &quot; + COMMA_PATTERN + &quot; $+ ( /^VP|VCD|IP/  !&lt; VE !&lt;VC !&lt;SB !&lt;LB !&lt;:NP !&lt;:PP )))) !$- BA&quot;,
            // Handle the case where the subject and object is separated by a LCP
            &quot;IP &lt;( ( NP|QP=target!&lt; NT ) $+ (LCP ($+ ( /^VP|VCD|IP/  !&lt; VE !&lt;VC !&lt;SB !&lt;LB !&lt;:NP !&lt;:PP )))) !$- BA&quot;,
            // There are a number of cases of NP-SBJ not under IP, and we should try to get some of them as this
            // pattern does. There are others under CP, especially CP-CND
            &quot;NP !$+ VP &lt; ( (  NP|DP|QP=target !&lt; NT ) $+ ( /^VP|VCD/ !&lt;VE !&lt; VC !&lt;SB !&lt;LB))&quot;,
            &quot;IP &lt; (/^NP/=target $+ (VP &lt; VC))&quot; // Go over copula
    );

  /**
   * The &quot;nominal passive subject&quot; (nsubjpass) grammatical relation.
   * The noun is the subject of a passive sentence.
   * The passive marker in Chinese is &quot;被&quot;.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (IP
   *     (NP (NN 镍))
   *     (VP (SB 被)
   *       (VP (VV 称作)
   *         (NP (PU “)
   *           (DNP
   *             (NP
   *               (ADJP (JJ 现代))
   *               (NP (NN 工业)))
   *             (DEG 的))
   *           (NP (NN 维生素))
   *           (PU ”)))))
   * Output:
   *   nsubjpass(称作-3, 镍-1)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L187">  public static final GrammaticalRelation NOMINAL_PASSIVE_SUBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;nsubjpass&quot;, &quot;nominal passive subject&quot;,
      NOMINAL_SUBJECT, &quot;IP&quot;, tregexCompiler,
            &quot;IP &lt; (NP=target $+ (VP|IP &lt; SB|LB))&quot;);

  /**
   * The &quot;clausal subject&quot; grammatical relation.  A clausal subject is
   * a subject which is a clause.
   * &lt;p /&gt; Examples:
   * &lt;code&gt;
   * &lt;pre&gt;
   * &lt;/pre&gt;
   * &lt;/code&gt;
   * &lt;p /&gt;
   * Note: This one might not exist in Chinese, or very rare.
   * cdm 2016: There are a few CP-SBJ in the CTB like this one:
   * 我 估计 [CP-SBJ 他 欺负 别人 的 ] 多
   * but it doesn't seem like there would be any way to detect them without using -SBJ
   */
<span class="fc" id="L207">  public static final GrammaticalRelation CLAUSAL_SUBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;csubj&quot;, &quot;clausal subject&quot;,
      SUBJECT, &quot;IP|VP&quot;, tregexCompiler,
            &quot;IP|VP &lt; ( /^IP(-SBJ)?/ &lt; NP|QP|LCP $+ VP=target )&quot;,
            &quot;IP|VP &lt; ( /^IP(-SBJ)?/ &lt; NP|QP|LCP $+ (PU $+ VP=target ))&quot;);

  /**
   * The &quot;complement&quot; (comp) grammatical relation.
   */
<span class="fc" id="L217">  public static final GrammaticalRelation COMPLEMENT =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;comp&quot;, &quot;complement&quot;, ARGUMENT);

  /**
   * The &quot;object&quot; (obj) grammatical relation.
   */
<span class="fc" id="L223">  public static final GrammaticalRelation OBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;obj&quot;, &quot;object&quot;, COMPLEMENT);

  /**
   * The &quot;direct object&quot; (dobj) grammatical relation.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (IP
   *     (NP (NR 上海) (NR 浦东))
   *     (VP
   *       (VCD (VV 颁布) (VV 实行))
   *            (AS 了)
   *            (QP (CD 七十一)
   *                (CLP (M 件)))
   *            (NP (NN 法规性) (NN 文件))))
   *
   *   In recent years Shanghai 's Pudong has promulgated and implemented
   *   some regulatory documents.
   * Output:
   *   dobj(颁布, 文件)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L248">  public static final GrammaticalRelation DIRECT_OBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;dobj&quot;, &quot;direct object&quot;,
      OBJECT, &quot;CP|VP&quot;, tregexCompiler,
            &quot;VP &lt; ( /^V*/ $+ NP|DP=target ) !&lt; VC &quot;,
            // 进入/VV 了/AS 夏季/NN
            &quot;VP &lt; ( /^V*/ $+ (AS $+ NP|DP=target) ) !&lt; VC &quot;,
            &quot; VP &lt; ( /^V*/ $+ NP|DP=target ! $+ NP|DP) !&lt; VC &quot;,
            &quot;CP &lt; (IP $++ NP=target ) !&lt;&lt; VC&quot;);

  /**
   * The &quot;indirect object&quot; (iobj) grammatical relation.
   */
<span class="fc" id="L261">  public static final GrammaticalRelation INDIRECT_OBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;iobj&quot;, &quot;indirect object&quot;,
      OBJECT, &quot;VP&quot;, tregexCompiler,
            &quot; CP !&gt; VP &lt; ( VV $+ ( NP|DP|QP|CLP=target . NP|DP ) )&quot;);

  /**
   * The &quot;clausal complement&quot; (ccomp) grammatical relation.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (IP
   *       (VP
   *         (VP
   *           (ADVP (AD 一))
   *           (VP (VV 出现)))
   *         (VP
   *           (ADVP (AD 就))
   *           (VP (SB 被)
   *             (VP (VV 纳入)
   *               (NP (NN 法制) (NN 轨道)))))))))))
   * Output:
   *   ccomp(出现, 纳入)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L288">  public static final GrammaticalRelation CLAUSAL_COMPLEMENT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;ccomp&quot;, &quot;clausal complement&quot;,
      COMPLEMENT, &quot;VP|ADJP|IP&quot;, tregexCompiler,
            &quot;  VP  &lt; (VV|VC|VRD|VCD|VSB|VE $++ IP|VP|VRD|VCD|VSB|CP=target)  !&lt; NP|QP|LCP  &gt; IP|VP &quot;,
            &quot;VP &lt; (VV $+ NP $++ IP=target)&quot;);
        //        &quot;  VP|IP &lt;  ( VV|VC|VRD|VCD !$+  NP|QP|LCP ) &gt; (IP   &lt; IP|VP|VRD|VCD=target)   &quot;
       //          &quot;VP &lt; (S=target &lt; (VP !&lt;, TO|VBG) !$-- NP)&quot;,


  /**
   * The &quot;xclausal complement&quot; (xcomp) grammatical relation.
   */
  // pichuan: this is difficult to recognize in Chinese.
  // remove the rules since it (always) collides with ccomp

<span class="fc" id="L304">  public static final GrammaticalRelation XCLAUSAL_COMPLEMENT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;xcomp&quot;, &quot;xclausal complement&quot;,
      COMPLEMENT, &quot;VP&quot;, tregexCompiler,
      // fixme [pengqi 2016]: this is just a temporary solution to deal with VV $+ VP structures
      //   that are clearly not aux:modal
      &quot;VP &lt; (VV=target $+ VP !&lt; &quot; + MODAL_PATTERN + &quot;)&quot;
      );

  ////////////////////////////////////////////////////////////
  // MODIFIER relations
  ////////////////////////////////////////////////////////////

  /**
   * The &quot;modifier&quot; (mod) grammatical relation (abstract).
   */
<span class="fc" id="L320">  public static final GrammaticalRelation MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;mod&quot;, &quot;modifier&quot;, DEPENDENT);

  /**
   * The &quot;number modifier&quot; (nummod) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (NP
   *         (NP (NN 拆迁) (NN 工作))
   *         (QP (CD 若干))
   *         (NP (NN 规定)))
   * Output:
   *   nummod(规定-48, 若干-47)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L338">  public static final GrammaticalRelation NUMERIC_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;nummod&quot;, &quot;numeric modifier&quot;,
                            MODIFIER,
                            &quot;QP|NP|DP&quot;, tregexCompiler,
            &quot;NP|QP &lt; ( QP  =target &lt;&lt; M $++ NN|NP|QP)&quot;,
            &quot;NP|QP &lt; ( DNP=target &lt; (QP &lt; CD !&lt; OD) !&lt; JJ|ADJP $++ NP|QP )&quot;
            // the following rule is merged into mark:clf
            //&quot;DP &lt; ( DT $+ CLP=target )&quot;
            );

  /**
   * The &quot;appositional modifier&quot; (appos) grammatical relation (abstract).
   */
<span class="fc" id="L351">  public static final GrammaticalRelation APPOSITIONAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;appos&quot;, &quot;appositional modifier&quot;, MODIFIER,
            &quot;NP&quot;, tregexCompiler,
            &quot;NP &lt; (/^NP(-APP)?$/=target !&lt;&lt;- &quot; + LOCATION_NOUNS + &quot; !&lt; NT !&lt;: NR $+ (NP &lt;: NR !$+ __))&quot;);

<span class="fc" id="L356">  public static final GrammaticalRelation PARATAXIS =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;parataxis&quot;, &quot;parataxis&quot;, DEPENDENT);

  /**
   * The &quot;parenthetical modifier&quot; (prnmod) grammatical relation (Chinese-specific).
   */
<span class="fc" id="L362">  public static final GrammaticalRelation PARENTHETICAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;parataxis:prnmod&quot;, &quot;parenthetical modifier&quot;,
                            PARATAXIS, &quot;NP&quot;, tregexCompiler,
            &quot;NP &lt; PRN=target &quot;);

  /**
   * The &quot;noun modifier&quot; grammatical relation.
   */
<span class="fc" id="L370">  public static final GrammaticalRelation NOUN_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;nmod&quot;, &quot;noun modifier&quot;, MODIFIER,
                  &quot;NP&quot;, tregexCompiler,
                  &quot;NP &lt; (NP=target &lt; NR !$+ PU|CC|NP|NN $++ NP|PRN)&quot;,
                  &quot;NP &lt; (NP=target $+ (NP &lt;: NR)) [$- P|LC | $+ P|LC]&quot;,
                  &quot;NP|QP &lt; ( DNP =target &lt; (NP &lt; NT) $++ NP|QP )&quot;,
                  &quot;NP|QP &lt; ( DNP =target &lt; LCP|PP $++ NP|QP )&quot;);

  /**
   * The &quot;range&quot; grammatical relation (Chinese only).  The indirect
   * object of a VP is the quantifier phrase which is the (dative) object
   * of the verb.&lt;p&gt;
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (VP (VV 成交)
   *       (NP (NN 药品))
   *       (QP (CD 一亿多)
   *           (CLP (M 元))))
   * Output:
   *   range(成交, 元)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L395">  public static final GrammaticalRelation RANGE =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;nmod:range&quot;, &quot;range&quot;,
                  NOUN_MODIFIER, &quot;VP&quot;, tregexCompiler,
                  &quot;VP &lt; ( NP|DP|QP $+ DP|QP=target)&quot;,
                  &quot;VP &lt; ( VV $+ QP=target )&quot;);

<span class="fc" id="L402">  public static final GrammaticalRelation POSSESSIVE_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;nmod:poss&quot;, &quot;possessive modifier&quot;, NOUN_MODIFIER,
                  &quot;NP&quot;, tregexCompiler,
                  &quot;NP &lt; (PN=target $+ NN)&quot;);

  /**
   * The &quot;temporal modifier&quot; grammatical relation.
   * (IP
   *           (VP
   *             (NP (NT 以前))
   *             (ADVP (AD 不))
   *             (ADVP (AD 曾))
   *             (VP (VV 遇到) (AS 过))))
   *(VP
   *     (LCP
   *       (NP (NT 近年))
   *       (LC 来))
   *     (VP
   *       (VCD (VV 颁布) (VV 实行))
   * {@code tmod } (遇到, 以前)
   */
<span class="fc" id="L423">  public static final GrammaticalRelation TEMPORAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;nmod:tmod&quot;, &quot;temporal modifier&quot;,
      NOUN_MODIFIER, &quot;VP|IP&quot;, tregexCompiler,
            &quot;VP|IP &lt; (NP=target &lt; NT $++ VP)&quot;);

  /* This rule actually matches nothing.
     There's another tmod rule. This is removed for now.
     (pichuan) Sun Mar  8 18:22:40 2009
  */
  /*
  public static final GrammaticalRelation TEMPORAL_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;tmod&quot;, &quot;temporal modifier&quot;,
      MODIFIER, &quot;VP|IP|ADJP&quot;, tregexCompiler,
      new String[]{
        &quot; VC|VE ! &gt;&gt; VP|ADJP &lt; NP=target &lt; NT&quot;,
        &quot;VC|VE !&gt;&gt;IP &lt;( NP=target &lt; NT $++ VP !&lt; VC|VE )&quot;
      });
  */

<span class="fc" id="L444">  public static final GrammaticalRelation CLAUSAL_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;acl&quot;, &quot;clausal modifier of noun&quot;,
                  MODIFIER, &quot;NP&quot;, tregexCompiler,
                  //&quot;NP  $++ (CP=target &lt;&lt; VV) &gt; NP &quot;,
                  &quot;NP  &lt; ( CP=target $++ NP &lt;&lt; VV)&quot;,
                  &quot;NP &lt; IP=target &quot;);

  /**
   * The &quot;relative clause modifier&quot; (relcl) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (NP-PRD (CP (WHNP-3 (-NONE- *OP*))
   *       (CP (IP (NP-SBJ (-NONE- *pro*))
   *         (VP (NP-TMP (NT 以前))
   *             (ADVP (AD 不))
   *             (ADVP (AD 曾))
   *             (VP (VV 遇到)
   *           (AS 过)
   *           (NP-OBJ (-NONE- *T*-3)))))
   *           (DEC 的)))
   *         (NP (NP (ADJP (JJ 新))
   *           (NP (NN 情况)))
   *       (PU 、)
   *       (NP (ADJP (JJ 新))
   *           (NP (NN 问题)))))
   *   The new problem that has not been encountered.
   * Output:
   *   relcl(问题, 遇到)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
  /* merged into acl
  public static final GrammaticalRelation RELATIVE_CLAUSE_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese, &quot;acl&quot;, &quot;adjectival clause modifier&quot;,
                            CLAUSAL_MODIFIER, &quot;NP&quot;, tregexCompiler,
            &quot;NP  $++ (CP=target &lt;&lt; VV) &gt; NP &quot;,
            &quot;NP  &lt; ( CP=target $++ NP &lt;&lt; VV)&quot;,
            &quot;NP &lt; IP=target &quot;);
            */

  /*
   * The &quot;non-finite clause&quot; grammatical relation.
   * This used to be verb modifier (vmod).
   */
  /* merged into acl
  public static final GrammaticalRelation NONFINITE_CLAUSE_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;acl:nfincl&quot;, &quot;non-finite clause modifier (examples: stores[head] based[modifier] in Boston&quot;,
      CLAUSAL_MODIFIER, &quot;NP&quot;, tregexCompiler,
            &quot;NP &lt; IP=target &quot;);
   */

  /**
   * The &quot;adjective modifier&quot; (amod) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (NP
   *     (ADJP (JJ 新))
   *     (NP (NN 情况)))
   * Output:
   *   amod(情况-34, 新-33)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L512">  public static final GrammaticalRelation ADJECTIVAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;amod&quot;, &quot;adjectival modifier&quot;,
      MODIFIER, &quot;NP|CLP|QP&quot;, tregexCompiler,
            &quot;NP|CLP|QP &lt; (ADJP=target $++ NP|CLP|QP ) &quot;,
            &quot;NP  $++ (CP=target &lt;&lt; VA !&lt;&lt; VV) &gt; NP &quot;,
            &quot;NP  &lt; ( CP=target $++ NP &lt;&lt; VA !&lt;&lt; VV)&quot;,
            &quot;NP|QP &lt; ( DNP=target &lt; JJ|ADJP !&lt; NP|QP $++ NP|QP )&quot;);

  /**
   * The &quot;ordinal modifier&quot; (ordmod) grammatical relation.
   */
<span class="fc" id="L524">  public static final GrammaticalRelation ORDINAL_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;amod:ordmod&quot;, &quot;ordinal numeric modifier&quot;,
                  ADJECTIVAL_MODIFIER,
                  &quot;NP|QP&quot;, tregexCompiler,
                  &quot;NP &lt; (QP=target &lt; OD !&lt; CLP)&quot;,
                  &quot;NP|QP &lt; ( DNP=target &lt; (QP &lt; OD !&lt; CD) !&lt; JJ|ADJP $++ NP|QP )&quot;
                  // the following rule is merged into mark:clf
                  //&quot;QP &lt; (OD=target $+ CLP)&quot;
                  );

  /**
   * The &quot;determiner modifier&quot; (det) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (NP (DP (DT 这些))
   *       (NP (NN 经济) (NN 活动)))
   * Output:
   *   det(活动-61, 这些-59)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L547">  public static final GrammaticalRelation DETERMINER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;det&quot;, &quot;determiner&quot;,
                            MODIFIER, &quot;^NP|DP&quot;, tregexCompiler,
            &quot;/^NP/ &lt; (DP=target $++ NP )&quot;
            //&quot;DP &lt; DT &lt; QP=target&quot;
    );

  /**
   * The &quot;negative modifier&quot; (neg) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (VP
   *     (NP (NT 以前))
   *     (ADVP (AD 不))
   *     (ADVP (AD 曾))
   *     (VP (VV 遇到) (AS 过))))
   * Output:
   *   neg(遇到-30, 不-28)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L570">  public static final GrammaticalRelation NEGATION_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;neg&quot;, &quot;negation modifier&quot;,
      MODIFIER, &quot;VP|ADJP|IP&quot;, tregexCompiler,
            &quot;VP|ADJP|IP &lt; (AD|VV=target &lt; /^(\\u4e0d|\\u6CA1|\\u6CA1\\u6709)$/)&quot;,
            &quot;VP|ADJP|IP &lt; (ADVP|VV=target &lt; (AD &lt; /^(\\u4e0d|\\u6CA1|\\u6CA1\\u6709)$/))&quot;);

  /**
   * The &quot;adverbial modifier&quot; (advmod) grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (VP
   *     (ADVP (AD 基本))
   *     (VP (VV 做到) (AS 了)
   * Output:
   *   advmod(做到-74, 基本-73)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L591">  public static final GrammaticalRelation ADVERBIAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;advmod&quot;, &quot;adverbial modifier&quot;,
      MODIFIER,
      &quot;VP|ADJP|IP|CP|PP|NP|QP&quot;, tregexCompiler,
            &quot;VP|ADJP|IP|CP|PP|NP &lt; (ADVP=target !&lt; (AD &lt; /^(\\u4e0d|\\u6CA1|\\u6CA1\\u6709)$/))&quot;,
            &quot;VP|ADJP &lt; AD|CS=target&quot;,
            &quot;QP &lt; (ADVP=target $+ QP)&quot;,
            &quot;QP &lt; ( QP $+ ADVP=target)&quot;);

<span class="fc" id="L601">  public static final GrammaticalRelation ADV_CLAUSAL_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;advcl&quot;, &quot;clausal adverb&quot;, ADVERBIAL_MODIFIER);

  /**
   * The &quot;dvp modifier&quot; grammatical relation.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (VP (DVP
   *         (VP (VA 简单))
   *         (DEV 的))
   *       (VP (VV 采取) ...))
   * Output:
   *   dvpmod(采取-9, 简单-7)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L620">  public static final GrammaticalRelation DVPM_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;advmod:dvp&quot;, &quot;dvp modifier&quot;,
                            ADVERBIAL_MODIFIER, &quot;VP&quot;, tregexCompiler,
            &quot; VP &lt; ( DVP=target $+ VP) &quot;);

  ////////////////////////////////////////////////////////////
  // Special clausal dependents
  ////////////////////////////////////////////////////////////

  /**
   * The &quot;auxiliary&quot; (aux) grammatical relation.
   */
<span class="fc" id="L632">  public static final GrammaticalRelation AUX_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;aux&quot;, &quot;auxiliary (example: should[modifier] leave[head])&quot;,
                            DEPENDENT, &quot;VP&quot;, tregexCompiler
    );

  /**
   * The &quot;modal&quot; grammatical relation.
   * (IP
   *           (NP (NN 利益))
   *           (VP (VV 能)
   *             (VP (VV 得到)
   *               (NP (NN 保障)))))))))
   * &lt;code&gt; mmod &lt;/code&gt; (得到-64, 能-63)
   */
<span class="fc" id="L646">  public static final GrammaticalRelation MODAL_VERB =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;aux:modal&quot;, &quot;modal verb&quot;,
                            AUX_MODIFIER, &quot;VP&quot;, tregexCompiler,
            // todo [pengqi]: using MODAL_PATTERN would render many cases of VV $+ VP
            //    as dep, need to assign a type to that structure. Also in that case
            //    need to clarify which verb is the head
            &quot;VP &lt; ( VV=target &lt; &quot; + MODAL_PATTERN + &quot; !&lt; /^没有$/ $+ VP|VRD )&quot;);

  /**
   * The &quot;aspect marker&quot; grammatical relation.
   * (VP
   *     (ADVP (AD 基本))
   *     (VP (VV 做到) (AS 了)
   * &lt;code&gt; asp &lt;/code&gt; (做到,了)
   */
<span class="fc" id="L661">  public static final GrammaticalRelation ASPECT_MARKER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;aux:asp&quot;, &quot;aspect&quot;,
                            AUX_MODIFIER, &quot;VP&quot;, tregexCompiler,
            &quot;VP &lt; ( /^V*/ $+ AS=target)&quot;);

  /**
   * The &quot;auxiliary passive&quot; (auxpass) grammatical relation.
   */
<span class="fc" id="L669">  public static final GrammaticalRelation AUX_PASSIVE_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;auxpass&quot;, &quot;auxiliary passive&quot;,
                            MODIFIER, &quot;VP&quot;, tregexCompiler,
            &quot;VP &lt; SB|LB=target&quot;);

  /**
   * The &quot;copula&quot; grammatical relation.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (IP (NP (NR 浦东))
   *       (VP (VC 是)
   *           (NP (NN 工程)))))
   * Output (formerly reverse(attr)):
   *   cop(工程,是)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L688">  public static final GrammaticalRelation COPULA =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;cop&quot;, &quot;copula&quot;,
                            DEPENDENT, &quot;VP&quot;, tregexCompiler,
            &quot; VP &lt; VC=target&quot;);

  /**
   * The &quot;marker&quot; (mark) grammatical relation.  A marker is the word
   * introducing a finite clause subordinate to another clause.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (PP (P 因为)
   *       (IP
   *         (VP
   *           (VP
   *             (ADVP (AD 一))
   *             (VP (VV 开始)))
   *           (VP
   *             (ADVP (AD 就))
   *             (ADVP (AD 比较))
   *             (VP (VA 规范))))))
   * Output (formerly reverse(pccomp)):
   *   mark(开始-20,因为-18)
   *
   * Input:
   *   (LCP (IP (NP-SBJ (-NONE- *pro*))
   *     (VP (VV 积累) (AS 了) (NP-OBJ (NN 经验)))) (LC 以后))
   * Output (formerly reverse(lccomp)):
   *   mark(积累, 以后)
   *
   * Input:
   *   (CP
   *         (IP
   *           (VP
   *             (VP (VV 振兴)
   *               (NP (NR 上海)))
   *             (PU ，)
   *             (VP (VV 建设)
   *               (NP
   *                 (NP (NN 现代化))
   *                 (NP (NN 经济) (PU 、) (NN 贸易) (PU 、) (NN 金融))
   *                 (NP (NN 中心))))))
   *         (DEC 的))
   * Output (formerly cpm):
   *   mark(振兴, 的)
   *
   * Input:
   *   (DVP
   *     (VP (VA 简单))
   *     (DEV 的))
   * Output (formerly dvpm):
   *   mark(简单-7, 的-8)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L744">  public static final GrammaticalRelation MARK =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;mark&quot;,
        &quot;marker (examples: that[modifier] expanded[head]; 开发/expand[head] 浦东/Pudong 的[modifier])&quot;,
        DEPENDENT, &quot;^PP|^LCP|^CP|^DVP&quot;, tregexCompiler,
            &quot;/^PP/ &lt; (P=target $+ VP)&quot;,
            &quot;/^LCP/ &lt; (P=target $+ VP)&quot;,
            &quot;/^CP/ &lt; (__  $++ DEC=target)&quot;,
            &quot;DVP &lt; (__ $+ DEV=target)&quot;);

  /**
   * The &quot;punctuation&quot; grammatical relation.  This is used for any piece of
   * punctuation in a clause, if punctuation is being retained in the
   * typed dependencies.
   */
<span class="fc" id="L758">  public static final GrammaticalRelation PUNCTUATION =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;punct&quot;, &quot;punctuation&quot;,
        DEPENDENT, &quot;.*&quot;, tregexCompiler,
        &quot;__ &lt; PU=target&quot;);

  ////////////////////////////////////////////////////////////
  // Other (compounding, coordination)
  ////////////////////////////////////////////////////////////

  /**
   * The &quot;compound&quot; grammatical relation (abstract).
   */
<span class="fc" id="L770">  public static final GrammaticalRelation COMPOUND =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;compound&quot;, &quot;compound (examples: phone book, three thousand)&quot;, ARGUMENT);

  /**
   * The &quot;noun compound&quot; (nn) grammatical relation.
   * Example:
   * (ROOT
   *   (IP
   *     (NP
   *       (NP (NR 上海) (NR 浦东))
   *       (NP (NN 开发)
   *         (CC 与)
   *         (NN 法制) (NN 建设)))
   *     (VP (VV 同步))))
   * &lt;code&gt; compound:nn &lt;/code&gt; (浦东, 上海)
   */
<span class="fc" id="L786">  public static final GrammaticalRelation NOUN_COMPOUND =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;compound:nn&quot;, &quot;noun compound&quot;,
      COMPOUND, &quot;^NP&quot;, tregexCompiler,
            &quot;NP &lt; (NN|NR|NT=target [$+ NN|NT $- NN|NP | $+ (NN|NT $+ NN|NP|NR)])&quot;,
            &quot;NP &lt; (NN|NR|NT=target !$+ PU|CC|DNP $++ NN|NT)&quot;,
            &quot;NP &lt; (NN|NR|NT $+ FW=target)&quot;,
            &quot;NP &lt; (NP=target !&lt; NR !$+ PU|CC|DNP $++ (NP|PRN !&lt; NR|QP))&quot;,
            // the following rule captures some exceptions from nmod:assmod
            &quot;NP &lt; (NP=target &lt; NR $+ (NP [&lt;&lt;# NR | $+ NR|NN | $+ (__ &lt;&lt;# NR) | $+ /^[^N]/]))&quot;,
            &quot;NP &lt; (NP=target &lt; NN !&lt; NR $+ (NP &lt; NN|NT))&quot;);

  /**
   * The &quot;name&quot; grammatical relation.
   */
<span class="fc" id="L801">  public static final GrammaticalRelation NAME =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;name&quot;, &quot;name&quot;,
      COMPOUND, &quot;^NP&quot;, tregexCompiler,
      &quot;NP &lt; (NR=target $+ NR)&quot;);

  /**
   * The &quot;coordinated verb compound&quot; grammatical relation.
   *   (VCD (VV 颁布) (VV 实行))
   * comod(颁布-5, 实行-6)
   */
<span class="fc" id="L812">  public static final GrammaticalRelation VERB_COMPOUND =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;compound:vc&quot;, &quot;coordinated verb compound&quot;,
                            COMPOUND, &quot;VCD|VSB&quot;, tregexCompiler,
            &quot;VCD &lt; ( VV|VA $+  VV|VA=target)&quot;,
            &quot;VSB &lt; ( VV|VA=target $+  VV|VA)&quot;);

  /**
   * The &quot;conjunct&quot; (conj) grammatical relation.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (ROOT
   *     (IP
   *       (NP
   *         (NP (NR 上海) (NR 浦东))
   *         (NP (NN 开发)
   *           (CC 与)
   *           (NN 法制) (NN 建设)))
   *       (VP (VV 同步))))
   *
   *   The development of Shanghai 's Pudong is in step with the establishment
   *   of its legal system.
   * Output:
   *   conj(建设, 开发) [should be reversed]
   * &lt;/pre&gt;
   * &lt;/code&gt;
   *
   * TODO(pliang): make first item the head and the subsequent ones modifiers.
   */
<span class="fc" id="L842">  public static final GrammaticalRelation CONJUNCT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;conj&quot;, &quot;conjunct&quot;,
      DEPENDENT, &quot;FRAG|INC|IP|VP|NP|ADJP|PP|ADVP|UCP&quot;, tregexCompiler,
            &quot;NP|ADJP|PP|ADVP|UCP &lt; (!PU|CC=target $+ CC)&quot;,
            // Split the first rule to the second rule to avoid the duplication:
            // ccomp(前来-12, 投资-13)
            // conj(前来-12, 投资-13)
            //
            //      (IP
            //        (VP
            //          (VP (VV 前来))
            //          (VP
            //            (VCD (VV 投资) (VV 办厂)))
            //          (CC 和)
            //          (VP (VV 洽谈)
            //            (NP (NN 生意))))))
            &quot;VP &lt; (!PU|CC=target !$- VP $+ CC)&quot;,
            // TODO: this following line has to be fixed.
            //       I think for now it just doesn't match anything.
            &quot;VP|NP|ADJP|PP|ADVP|UCP &lt; ( __=target $+ PU $+ CC)&quot;,
            //&quot;VP|NP|ADJP|PP|ADVP|UCP &lt; ( __=target $+ (PU &lt; 、) )&quot;,
            // Consider changing the rule ABOVE to these rules.
            &quot;VP   &lt; ( /^V/=target  $+ ((PU &lt; 、) $+ /^V/))&quot;,
            &quot;NP   &lt; ( /^N/=target  $+ ((PU &lt; 、) $+ /^N/))&quot;,
            &quot;ADJP &lt; ( JJ|ADJP=target  $+ ((PU &lt; 、) $+ JJ|ADJP))&quot;,
            &quot;PP   &lt; ( /^P/=target  $+ ((PU &lt; 、) $+ /^P/))&quot;,
            //&quot;ADVP &lt; ( /^AD/=target $+ ((PU &lt; 、) $+ /^AD/))&quot;,
            &quot;ADVP &lt; ( /^AD/ $+ ((PU &lt; 、) $+ /^AD/=target))&quot;,
            &quot;UCP  &lt; ( !PU|CC=target    $+ (PU &lt; 、) )&quot;,
            // This is for the 'conj's separated by commas.
            // For now this creates too much duplicates with 'ccomp'.
            // Need to look at more examples.

            &quot;PP &lt; (PP $+ PP=target )&quot;,
            &quot;NP &lt;( NP=target $+ ((PU &lt; 、) $+ NP) )&quot;,
            &quot;NP &lt;( NN|NR|NT|PN=target $+ ((PU &lt; ，|、) $+ NN|NR|NT|PN) )&quot;,
            &quot;VP &lt; (CC $+ VV=target)&quot;,
            // Original version of this did not have the outer layer of
            // the FRAG|INC|IP|VP.  This caused a bug where the basic
            // dependencies could have cycles.
            &quot;FRAG|INC|IP|VP &lt; (VP  &lt; VV|VC|VRD|VCD|VE|VA &lt; NP|QP|LCP  $ IP|VP|VRD|VCD|VE|VC|VA=target)  &quot;,
            // splitting the following into two rules for accuracy
            // &quot;IP|VP &lt; ( IP|VP &lt; NP|QP|LCP $ IP|VP=target )&quot;,
            &quot;IP|VP &lt; ( IP &lt; NP|QP|LCP $ IP=target )&quot;,
            &quot;IP|VP &lt; ( VP $ VP=target )&quot;);

  /**
   * The &quot;coordination&quot; grammatical relation.
   * A coordination is the relation between
   * an element and a conjunction.&lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   (ROOT
   *     (IP
   *       (NP
   *         (NP (NR 上海) (NR 浦东))
   *         (NP (NN 开发)
   *           (CC 与)
   *           (NN 法制) (NN 建设)))
   *       (VP (VV 同步))))
   * Output:
   *   cc(建设, 与) [should be cc(开发, 与)]
   * &lt;/pre&gt;
   * &lt;/code&gt;
   * TODO(pliang): by convention, the first item in the coordination should be
   * chosen, but currently, it's the head, which happens to be the last.
   */
<span class="fc" id="L911">  public static final GrammaticalRelation COORDINATION =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;cc&quot;, &quot;coordination&quot;, DEPENDENT,
      &quot;VP|NP|ADJP|PP|ADVP|UCP|IP|QP&quot;, tregexCompiler,
            &quot;VP|NP|ADJP|PP|ADVP|UCP|IP|QP &lt; (CC=target)&quot;);

  /**
   * The &quot;case&quot; grammatical relation.
   * This covers prepositions, localizers, and associative markers.
   * &lt;p&gt;
   * &lt;pre&gt;
   * &lt;code&gt;
   * Input:
   *   (PP (P 根据)
   *       (NP
   *         (DNP
   *           (NP
   *             (NP (NN 国家))
   *             (CC 和)
   *             (NP (NR 上海市)))
   *           (DEG 的))
   *         (ADJP (JJ 有关))
   *         (NP (NN 规定))))
   * Output (formerly reverse(pobj)):
   *   case(规定-19, 根据-13)
   *
   * Input:
   *   (LCP
   *       (NP (NT 近年))
   *       (LC 来))
   * Output (formerly reverse(lobj)):
   *   case(近年-3, 来-4)
   *
   * Input:
   *   (NP (DNP
   *         (NP (NP (NR 浦东))
   *         (NP (NN 开发)))
   *         (DEG 的))
   *       (ADJP (JJ 有序))
   *       (NP (NN 进行)))
   * Output (formerly reverse(assm)):
   *   case(开发-31, 的-32)
   *
   * Input:
   *   (PP (P 在)
   *     (LCP
   *       (NP
   *         (DP (DT 这)
   *             (CLP (M 片)))
   *         (NP (NN 热土)))
   *       (LC 上)))
   * Output (formerly reverse(plmod)):
   *   case(热土, 在)
   * &lt;/code&gt;
   * &lt;/pre&gt;
   */
<span class="fc" id="L967">  public static final GrammaticalRelation CASE =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;case&quot;,
        &quot;case marking (examples: Chair[head] 's[modifier], 根据/according[modifier] ... 规定/rule[head]; 近年/this year[head] 来[modifier])&quot;,
        DEPENDENT, &quot;^PP|^LCP|^DNP&quot;, tregexCompiler,
            &quot;/^PP/ &lt; P=target&quot;,
            &quot;/^LCP/ &lt; LC=target&quot;,
            &quot;/^DNP/ &lt; DEG=target&quot;,
            &quot;PP &lt; ( P=target $++ LCP )&quot;);

  /**
   * The &quot;associative modifier&quot; (nmod:assmod) grammatical relation (Chinese-specific).
   * See &quot;case&quot; for example.
   */
<span class="fc" id="L980">  public static final GrammaticalRelation ASSOCIATIVE_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;nmod:assmod&quot;, &quot;associative modifier (examples: 上海市/Shanghai[modifier] 的 规定/law[head])&quot;,
                  NOUN_MODIFIER, &quot;NP|QP|DNP&quot;, tregexCompiler,
                  &quot;NP|QP &lt; ( DNP =target &lt; (NP !&lt; NT) $++ NP|QP ) &quot;,
                  &quot;NP|DNP &lt; (/^NP(-PN)?$/=target &lt; NR $+ (NP !&lt;&lt;# NR !$+ NR|NN !$+ (__ &lt;&lt;# NR) !$+ /^[^N]/) !$- NP|NN)&quot;,
                  // the following rule is merged into compound:nn
                  //&quot;NP &lt; (NR=target $+ NN)&quot;,
                  &quot;NP &lt; (NP=target !&lt; NR !$+ PU|CC $++ (NP|PRN &lt; QP))&quot;);

  /**
   * The &quot;nominal topic&quot; (nmod:topic) grammatical relation (Chinese-specific).
   * Example:
   * &lt;code&gt;
   * Input:
   *  (IP (NP-TPC (NP-APP (ADJP (JJ 现任))
   *        (NP (NN 总统)))
   *        (NP-PN (NR 米洛舍维奇)))
   *      (NP-TMP (NT ２００１年))
   *      (NP-SBJ (NN 总统)
   *        (NN 任期))
   *      (VP (VV 到期)))
   * Output:
   *   nmod:topic(到期, 米洛舍维奇)
   * &lt;/code&gt;
   */
<span class="fc" id="L1006">  public static final GrammaticalRelation NOMINAL_TOPIC_MODIFIER =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;nmod:topic&quot;, &quot;nominal topic&quot;,
                  NOUN_MODIFIER, &quot;IP&quot;, tregexCompiler,
                  &quot;IP &lt; (/^NP.*(-TPC)?/=target $++ (NP $+ VP) !&lt; NT)&quot;);

  ////////////////////////////////////////////////////////////
  // Other stuff: pliang: not sure exactly where they should go.
  ////////////////////////////////////////////////////////////

  /*
   * The &quot;prepositional localizer modifier&quot; grammatical relation.
   * (PP (P 在)
   *     (LCP
   *       (NP
   *         (DP (DT 这)
   *             (CLP (M 片)))
   *         (NP (NN 热土)))
   *       (LC 上)))
   * plmod(在-25, 上-29)
   */
  /*
   * pengqi Jul 2016: This shouldn't exist in UD and is replaced by case
   *
  public static final GrammaticalRelation PREPOSITIONAL_LOCALIZER_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;plmod&quot;, &quot;prepositional localizer modifier&quot;,
      MODIFIER, &quot;PP&quot;, tregexCompiler,
            &quot;PP &lt; ( P $++ LCP=target )&quot;);
  */

  /**
   * The &quot;adjectival complement&quot; grammatical relation.
   * Example:
   */
  // deleted by pichuan: no real matches
  /*
  public static final GrammaticalRelation ADJECTIVAL_COMPLEMENT =
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;acomp&quot;, &quot;adjectival complement&quot;,
      COMPLEMENT, &quot;VP&quot;, tregexCompiler,
      new String[]{
        &quot;VP &lt; (ADJP=target !$-- NP)&quot;
      });
  */

  /**
   * The &quot;localizer complement&quot; grammatical relation.
   * (VP (VV 占)
   *     (LCP
   *       (QP (CD 九成))
   *       (LC 以上)))
   *   (PU ，)
   *   (vp (VV 达)
   *     (QP (CD 四百三十八点八亿)
   *       (CLP (M 美元))))
   * &lt;code&gt; loc &lt;/code&gt; (占-11, 以上-13)
   */
<span class="fc" id="L1064">  public static final GrammaticalRelation LOCALIZER_COMPLEMENT =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;advmod:loc&quot;, &quot;localizer complement&quot;,
                  ADVERBIAL_MODIFIER, &quot;VP|IP&quot;, tregexCompiler,
                  &quot;VP|IP &lt; (LCP=target !&lt; IP) &quot;);

<span class="fc" id="L1070">  public static final GrammaticalRelation CLAUSAL_LOCALIZER_COMPLEMENT =</span>
          new GrammaticalRelation(Language.UniversalChinese,
                  &quot;advcl:loc&quot;, &quot;localizer complement&quot;,
                  ADV_CLAUSAL_MODIFIER, &quot;VP|IP&quot;, tregexCompiler,
                  &quot;VP|IP &lt; (LCP=target &lt; IP) &quot;);

  /**
   * The &quot;resultative complement&quot; grammatical relation.
   */
<span class="fc" id="L1079">  public static final GrammaticalRelation RESULTATIVE_COMPLEMENT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;advmod:rcomp&quot;, &quot;result verb&quot;,
      ADVERBIAL_MODIFIER, &quot;VRD&quot;, tregexCompiler,
            &quot;VRD &lt; ( /V*/ $+ /V*/=target )&quot;);

  /**
   * The &quot;ba&quot; grammatical relation.
   */
<span class="fc" id="L1088"> public static final GrammaticalRelation BA =</span>
   new GrammaticalRelation(Language.UniversalChinese, &quot;aux:ba&quot;, &quot;ba&quot;,
                           AUX_MODIFIER, &quot;VP|IP&quot;, tregexCompiler,
           &quot;VP|IP &lt; BA=target &quot;);

  /**
   * The &quot;classifier marker&quot; grammatical relation.
   * &lt;p&gt;
   * &lt;code&gt;
   * &lt;pre&gt;
   * Input:
   *   ((QP (CD 七十一)
   *        (CLP (M 件)))
   *    (NP (NN 法规性) (NN 文件)))
   * Output:
   *   mark:clf(七十一, 件)
   * &lt;/pre&gt;
   * &lt;/code&gt;
   */
<span class="fc" id="L1107">  public static final GrammaticalRelation CLASSIFIER_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;mark:clf&quot;, &quot;classifier marker&quot;,
      MARK, &quot;QP|DP&quot;, tregexCompiler,
            &quot;QP &lt; M=target&quot;,
            &quot;QP &lt; CLP=target&quot;,
            &quot;DP &lt; ( DT $+ CLP=target )&quot;);

  /**
   * The &quot;possession modifier&quot; grammatical relation.
   */
  // Fri Feb 20 15:40:13 2009 (pichuan)
  // I think this &quot;poss&quot; relation is just WRONG.
  // DEC is a complementizer or a nominalizer,
  // this rule probably originally want to capture &quot;DEG&quot;.
  // But it seems like it's covered by &quot;assm&quot; (associative marker).
  /*
  public static final GrammaticalRelation POSSESSION_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;poss&quot;, &quot;possession modifier&quot;,
      MODIFIER, &quot;NP&quot;, tregexCompiler,
      new String[]{
        &quot;NP &lt; ( PN=target $+ DEC $+  NP )&quot;
      });
  */

  /**
   * The &quot;possessive marker&quot; grammatical relation.
   */
  // Similar to the comments to &quot;poss&quot;,
  // I think this relation is wrong and will not appear.
  /*
  public static final GrammaticalRelation POSSESSIVE_MODIFIER =
    new GrammaticalRelation(Language.UniversalChinese, &quot;possm&quot;, &quot;possessive marker&quot;,
                            MODIFIER, &quot;NP&quot;, tregexCompiler,
                            new String[]{
                              &quot;NP &lt; ( PN $+ DEC=target ) &quot;
                            });
  */

  /**
   * The &quot;prepositional modifier&quot; grammatical relation.
   *(IP
   *  (PP (P 对)
   *   (NP (PN 此)))
   * (PU ，)
   * (NP (NR 浦东))
   * (VP
   *   (VP
   *     (ADVP (AD 不))
   *     (VP (VC 是)
   *       (VP
   *         (DVP
   *           (VP (VA 简单))
   *           (DEV 的))
   *         (VP (VV 采取)
   * &lt;code&gt; nmod &lt;/code&gt; (采取-9, 此-1)
   */
<span class="fc" id="L1165">  public static final GrammaticalRelation PREPOSITIONAL_MODIFIER =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;nmod:prep&quot;, &quot;prepositional modifier&quot;,
      NOUN_MODIFIER, &quot;^NP|VP|IP&quot;, tregexCompiler,
            &quot;/^NP/ &lt; /^PP/=target&quot;,
            &quot;VP &lt; /^PP/=target&quot;,
            &quot;IP &lt; /^PP/=target &quot;);

  /**
   * The &quot;participial modifier&quot; (prtmod) grammatical relation.
   */
<span class="fc" id="L1176">  public static final GrammaticalRelation PART_VERB =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;aux:prtmod&quot;, &quot;particle verb&quot;,
      AUX_MODIFIER, &quot;VP|IP&quot;, tregexCompiler,
            &quot;VP|IP &lt; ( MSP=target )&quot;);

  /**
   * The &quot;etc&quot; grammatical relation.
   *   (NP
   *     (NP (NN 经济) (PU 、) (NN 贸易) (PU 、) (NN 建设) (PU 、) (NN 规划) (PU 、) (NN 科技) (PU 、) (NN 文教) (ETC 等))
   *     (NP (NN 领域)))
   * &lt;code&gt; etc &lt;/code&gt; (办法-70, 等-71)
   */
<span class="fc" id="L1189">  public static final GrammaticalRelation ETC =</span>
    new GrammaticalRelation(Language.UniversalChinese, &quot;etc&quot;, &quot;ETC&quot;,
                            MODIFIER, &quot;^NP&quot;, tregexCompiler,
            &quot;/^NP/ &lt; (NN|NR . ETC=target)&quot;);

  /**
   * The &quot;xsubj&quot; grammatical relation, replaced with &quot;nsubj:xsubj&quot;.
   *(IP
   *           (NP (PN 有些))
   *           (VP
   *             (VP
   *               (ADVP (AD 还))
   *               (ADVP (AD 只))
   *               (VP (VC 是)
   *                 (NP
   *                   (ADJP (JJ 暂行))
   *                   (NP (NN 规定)))))
   *             (PU ，)
   *             (VP (VV 有待)
   *               (IP
   *                 (VP
   *                   (PP (P 在)
   *                     (LCP
   *                       (NP (NN 实践))
   *                       (LC 中)))
   *                   (ADVP (AD 逐步))
   *                   (VP (VV 完善))))))))))
   * &lt;code&gt; nsubj &lt;/code&gt; (完善-26, 规定-14)
   */
<span class="fc" id="L1218">  public static final GrammaticalRelation CONTROLLED_SUBJECT =</span>
    new GrammaticalRelation(Language.UniversalChinese,
      &quot;nsubj:xsubj&quot;, &quot;controlled subject&quot;,
      NOMINAL_SUBJECT, &quot;VP&quot;, tregexCompiler,
            &quot;VP !&lt; NP &lt; VP &gt; (IP !$- NP !&lt; NP !&gt;&gt; (VP &lt; VC ) &gt;+(VP) (VP $-- NP=target))&quot;);

  /**
   * The &quot;discourse&quot; (discourse) grammatical relation.
   */
<span class="fc" id="L1227">  public static final GrammaticalRelation DISCOURSE =</span>
          new GrammaticalRelation(Language.UniversalChinese, &quot;discourse&quot;, &quot;discourse&quot;, ARGUMENT,
                  &quot;CP&quot;, tregexCompiler,
                  &quot;CP &lt; SP=target&quot;);

  // Universal GrammaticalRelations
<span class="fc" id="L1233">  private static final GrammaticalRelation chineseOnly = null;  // Place-holder: put this after a relation to mark it as Chinese-only</span>
<span class="fc" id="L1234">  private static final GrammaticalRelation[] rawValues = {</span>
    DEPENDENT,
    ARGUMENT,
      SUBJECT,
        NOMINAL_SUBJECT,
        NOMINAL_PASSIVE_SUBJECT,
        CLAUSAL_SUBJECT,
        //CLAUSAL_PASSIVE_SUBJECT,  // Exists in Chinese?
      COMPLEMENT,
        OBJECT,
          DIRECT_OBJECT,
          INDIRECT_OBJECT,
        CLAUSAL_COMPLEMENT,
        XCLAUSAL_COMPLEMENT,  // Exists in Chinese?
    MODIFIER,
      // Nominal heads, nominal dependents
      NUMERIC_MODIFIER,
        ORDINAL_MODIFIER, chineseOnly,
      APPOSITIONAL_MODIFIER,
        PARENTHETICAL_MODIFIER, chineseOnly,
      NOUN_MODIFIER,
        RANGE, chineseOnly,
        ASSOCIATIVE_MODIFIER, chineseOnly,
        TEMPORAL_MODIFIER, chineseOnly,
        POSSESSIVE_MODIFIER,
        NOMINAL_TOPIC_MODIFIER, chineseOnly,
      // Nominal heads, predicate dependents
      //NOMINALIZED_CLAUSE_MODIFIER,  // Exists in Chinese?
      ADJECTIVAL_MODIFIER,
      DETERMINER,
      NEGATION_MODIFIER,
      CLAUSAL_MODIFIER,
      // Predicate heads
      ADVERBIAL_MODIFIER,
        DVPM_MODIFIER, chineseOnly,
      ADV_CLAUSAL_MODIFIER,
        CLAUSAL_LOCALIZER_COMPLEMENT, chineseOnly,
    // Special clausal dependents
      //VOCATIVE,
      //DISCOURSE,
      //EXPL,
      AUX_MODIFIER,
        MODAL_VERB, chineseOnly,
        ASPECT_MARKER, chineseOnly,
      AUX_PASSIVE_MODIFIER,
      COPULA,
      MARK,
        CLASSIFIER_MODIFIER, chineseOnly,
      PUNCTUATION,
    // Other
      COMPOUND,
        NOUN_COMPOUND, chineseOnly,
        VERB_COMPOUND, chineseOnly,
        NAME,
      CONJUNCT,
      COORDINATION,
      CASE,
      DISCOURSE,
    // Don't know what to do about these
      //PREPOSITIONAL_LOCALIZER_MODIFIER, chineseOnly,
      LOCALIZER_COMPLEMENT, chineseOnly,
      RESULTATIVE_COMPLEMENT, chineseOnly,
      BA, chineseOnly,
      PREPOSITIONAL_MODIFIER, chineseOnly,
      PART_VERB, chineseOnly,
      ETC, chineseOnly,
      CONTROLLED_SUBJECT, chineseOnly,
  };

<span class="fc" id="L1303">  private static final List&lt;GrammaticalRelation&gt; values = new ArrayList&lt;&gt;();</span>
    // Cache frequently used views of the values list
<span class="fc" id="L1305">  private static final List&lt;GrammaticalRelation&gt; synchronizedValues =</span>
<span class="fc" id="L1306">    Collections.synchronizedList(values);</span>

<span class="fc" id="L1308">  public static final Set&lt;GrammaticalRelation&gt; universalValues = new HashSet&lt;&gt;();</span>

  // Map from GrammaticalRelation short names to their corresponding
  // GrammaticalRelation objects
<span class="fc" id="L1312">  public static final Map&lt;String, GrammaticalRelation&gt; shortNameToGRel = new ConcurrentHashMap&lt;&gt;();</span>

  static {
<span class="fc bfc" id="L1315" title="All 2 branches covered.">    for (int i = 0; i &lt; rawValues.length; i++) {</span>
<span class="fc" id="L1316">      GrammaticalRelation gr = rawValues[i];</span>
<span class="fc bfc" id="L1317" title="All 2 branches covered.">      if (gr == chineseOnly) continue;</span>
<span class="fc" id="L1318">      synchronizedValues.add(gr);</span>
<span class="pc bpc" id="L1319" title="1 of 4 branches missed.">      if (i + 1 == rawValues.length || rawValues[i + 1] != chineseOnly) {</span>
<span class="fc" id="L1320">        universalValues.add(gr);</span>
      }
    }

<span class="fc" id="L1324">    valuesLock().lock();</span>
    try {
<span class="fc bfc" id="L1326" title="All 2 branches covered.">      for (GrammaticalRelation gr : UniversalChineseGrammaticalRelations.values()) {</span>
<span class="fc" id="L1327">        shortNameToGRel.put(gr.getShortName(), gr);</span>
<span class="fc" id="L1328">      }</span>
    } finally {
<span class="pc" id="L1330">      valuesLock().unlock();</span>
<span class="fc" id="L1331">    }</span>
<span class="fc" id="L1332">  }</span>

  /**
   * Prints out the Chinese grammatical relations hierarchy.
   *
   * @param args Args are ignored.
   */
  public static void main(String[] args) {
<span class="nc" id="L1340">    System.out.println(DEPENDENT.toPrettyString());</span>
<span class="nc" id="L1341">  }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.8.201612092310</span></div></body></html>