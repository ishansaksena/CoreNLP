<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Preferences.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Stanford CoreNLP</a> &gt; <a href="index.source.html" class="el_package">edu.stanford.nlp.trees.tregex.gui</a> &gt; <span class="el_source">Preferences.java</span></div><h1>Preferences.java</h1><pre class="source lang-java linenums">package edu.stanford.nlp.trees.tregex.gui;

import java.awt.Color;

import edu.stanford.nlp.trees.HeadFinder;
import edu.stanford.nlp.trees.CollinsHeadFinder;
import edu.stanford.nlp.trees.LabeledScoredTreeReaderFactory;
import edu.stanford.nlp.trees.LeftHeadFinder;
import edu.stanford.nlp.trees.ModCollinsHeadFinder;
import edu.stanford.nlp.trees.PennTreeReaderFactory;
import edu.stanford.nlp.trees.SemanticHeadFinder;
import edu.stanford.nlp.trees.StringLabeledScoredTreeReaderFactory;
import edu.stanford.nlp.trees.TreeReaderFactory;
import edu.stanford.nlp.trees.UniversalSemanticHeadFinder;
import edu.stanford.nlp.trees.international.arabic.ArabicHeadFinder;
import edu.stanford.nlp.trees.international.arabic.ArabicTreeReaderFactory;
import edu.stanford.nlp.trees.international.french.DybroFrenchHeadFinder;
import edu.stanford.nlp.trees.international.french.FrenchTreeReaderFactory;
import edu.stanford.nlp.trees.international.negra.NegraHeadFinder;
import edu.stanford.nlp.trees.international.pennchinese.BikelChineseHeadFinder;
import edu.stanford.nlp.trees.international.pennchinese.ChineseHeadFinder;
import edu.stanford.nlp.trees.international.pennchinese.ChineseSemanticHeadFinder;
import edu.stanford.nlp.trees.international.pennchinese.CTBTreeReaderFactory;
import edu.stanford.nlp.trees.international.pennchinese.NoEmptiesCTBTreeReaderFactory;
import edu.stanford.nlp.trees.international.pennchinese.SunJurafskyChineseHeadFinder;
import edu.stanford.nlp.trees.international.tuebadz.TueBaDZHeadFinder;
import edu.stanford.nlp.trees.tregex.TregexPattern;

/**
 * Manages storage and retrieval of application preferences.
 *
 * @author Jon Gauthier
 */
<span class="nc" id="L34">public class Preferences {</span>

  static final java.util.prefs.Preferences prefs =
<span class="nc" id="L37">    java.util.prefs.Preferences.userRoot().node(TregexGUI.class.getName());</span>

  // Preference keys
  static final String PREF_FONT = &quot;font&quot;;
  static final String PREF_FONT_SIZE = &quot;fontSize&quot;;
  static final String PREF_TREE_COLOR = &quot;treeColor&quot;;
  static final String PREF_MATCHED_COLOR = &quot;matchedColor&quot;;
  static final String PREF_HIGHLIGHT_COLOR = &quot;highlightColor&quot;;
  static final String PREF_HISTORY_SIZE = &quot;historySize&quot;;
  static final String PREF_MAX_MATCHES = &quot;maxMatches&quot;;
  static final String PREF_ENABLE_TSURGEON = &quot;enableTsurgeon&quot;;
  static final String PREF_MATCH_PORTION_ONLY = &quot;matchPortionOnly&quot;;
  static final String PREF_HEAD_FINDER = &quot;headFinder&quot;;
  static final String PREF_TREE_READER_FACTORY = &quot;treeReaderFactory&quot;;
  static final String PREF_ENCODING = &quot;encoding&quot;;

  // Preference defaults
  static final String DEFAULT_FONT = &quot;Dialog&quot;;
  static final int DEFAULT_FONT_SIZE = 12;
<span class="nc" id="L56">  static final int DEFAULT_TREE_COLOR = Color.BLACK.getRGB();</span>
<span class="nc" id="L57">  static final int DEFAULT_MATCHED_COLOR = Color.RED.getRGB();</span>
<span class="nc" id="L58">  static final int DEFAULT_HIGHLIGHT_COLOR = Color.CYAN.getRGB();</span>
  static final int DEFAULT_HISTORY_SIZE = 5;
  static final int DEFAULT_MAX_MATCHES = 1000;
  static final boolean DEFAULT_ENABLE_TSURGEON = false;
  static final boolean DEFAULT_MATCH_PORTION_ONLY = false;
  static final String DEFAULT_HEAD_FINDER = &quot;CollinsHeadFinder&quot;;
  static final String DEFAULT_TREE_READER_FACTORY = &quot;TregexTreeReaderFactory&quot;;
  static final String DEFAULT_ENCODING = &quot;UTF-8&quot;;

<span class="nc" id="L67">  public static String getFont() { return prefs.get(PREF_FONT, DEFAULT_FONT); }</span>
<span class="nc" id="L68">  public static void setFont(String font) { prefs.put(PREF_FONT, font); }</span>

<span class="nc" id="L70">  public static int getFontSize() { return prefs.getInt(PREF_FONT_SIZE, DEFAULT_FONT_SIZE); }</span>
<span class="nc" id="L71">  public static void setFontSize(int fontSize) { prefs.putInt(PREF_FONT_SIZE, fontSize); }</span>

<span class="nc" id="L73">  public static Color getTreeColor() { return new Color(prefs.getInt(PREF_TREE_COLOR, DEFAULT_TREE_COLOR)); }</span>
<span class="nc" id="L74">  public static void setTreeColor(Color treeColor) { prefs.putInt(PREF_TREE_COLOR, treeColor.getRGB()); }</span>

<span class="nc" id="L76">  public static Color getMatchedColor() { return new Color(prefs.getInt(PREF_MATCHED_COLOR, DEFAULT_MATCHED_COLOR)); }</span>
<span class="nc" id="L77">  public static void setMatchedColor(Color matchedColor) { prefs.putInt(PREF_MATCHED_COLOR, matchedColor.getRGB()); }</span>

<span class="nc" id="L79">  public static Color getHighlightColor() { return new Color(prefs.getInt(PREF_HIGHLIGHT_COLOR, DEFAULT_HIGHLIGHT_COLOR)); }</span>
<span class="nc" id="L80">  public static void setHighlightColor(Color highlightColor) { prefs.putInt(PREF_HIGHLIGHT_COLOR, highlightColor.getRGB()); }</span>

<span class="nc" id="L82">  public static int getHistorySize() { return prefs.getInt(PREF_HISTORY_SIZE, DEFAULT_HISTORY_SIZE); }</span>
<span class="nc" id="L83">  public static void setHistorySize(int historySize) { prefs.putInt(PREF_HISTORY_SIZE, historySize); }</span>

<span class="nc" id="L85">  public static int getMaxMatches() { return prefs.getInt(PREF_MAX_MATCHES, DEFAULT_MAX_MATCHES); }</span>
<span class="nc" id="L86">  public static void setMaxMatches(int maxMatches) { prefs.putInt(PREF_MAX_MATCHES, maxMatches); }</span>

<span class="nc" id="L88">  public static boolean getEnableTsurgeon() { return prefs.getBoolean(PREF_ENABLE_TSURGEON, DEFAULT_ENABLE_TSURGEON); }</span>
<span class="nc" id="L89">  public static void setEnableTsurgeon(boolean enableTsurgeon) { prefs.putBoolean(PREF_ENABLE_TSURGEON, enableTsurgeon); }</span>

<span class="nc" id="L91">  public static boolean getMatchPortionOnly() { return prefs.getBoolean(PREF_MATCH_PORTION_ONLY, DEFAULT_MATCH_PORTION_ONLY); }</span>
<span class="nc" id="L92">  public static void setMatchPortionOnly(boolean matchPortionOnly) { prefs.putBoolean(PREF_MATCH_PORTION_ONLY, matchPortionOnly); }</span>

<span class="nc" id="L94">  public static String getEncoding() { return prefs.get(PREF_ENCODING, DEFAULT_ENCODING); }</span>
<span class="nc" id="L95">  public static void setEncoding(String encoding) { prefs.put(PREF_ENCODING, encoding); }</span>

  public static HeadFinder getHeadFinder() {
<span class="nc" id="L98">    return lookupHeadFinder(prefs.get(PREF_HEAD_FINDER, DEFAULT_HEAD_FINDER));</span>
  }

  public static void setHeadFinder(HeadFinder hf) {
<span class="nc" id="L102">    prefs.put(PREF_HEAD_FINDER, hf.getClass().getSimpleName());</span>
<span class="nc" id="L103">  }</span>

  static HeadFinder lookupHeadFinder(String headfinderName) {
<span class="nc bnc" id="L106" title="All 2 branches missed.">    if(headfinderName.equalsIgnoreCase(&quot;ArabicHeadFinder&quot;)) {</span>
<span class="nc" id="L107">      return new ArabicHeadFinder();</span>
<span class="nc bnc" id="L108" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;BikelChineseHeadFinder&quot;)) {</span>
<span class="nc" id="L109">      return new BikelChineseHeadFinder();</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;ChineseHeadFinder&quot;)) {</span>
<span class="nc" id="L111">      return new ChineseHeadFinder();</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;ChineseSemanticHeadFinder&quot;)) {</span>
<span class="nc" id="L113">      return new ChineseSemanticHeadFinder();</span>
<span class="nc bnc" id="L114" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;CollinsHeadFinder&quot;)) {</span>
<span class="nc" id="L115">      return new CollinsHeadFinder();</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;DybroFrenchHeadFinder&quot;)) {</span>
<span class="nc" id="L117">      return new DybroFrenchHeadFinder();</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;LeftHeadFinder&quot;)) {</span>
<span class="nc" id="L119">      return new LeftHeadFinder();</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">    }  else if(headfinderName.equalsIgnoreCase(&quot;ModCollinsHeadFinder&quot;)) {</span>
<span class="nc" id="L121">      return new ModCollinsHeadFinder();</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">    }  else if(headfinderName.equalsIgnoreCase(&quot;NegraHeadFinder&quot;)) {</span>
<span class="nc" id="L123">      return new NegraHeadFinder();</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">    }  else if(headfinderName.equalsIgnoreCase(&quot;SemanticHeadFinder&quot;)) {</span>
<span class="nc" id="L125">      return new SemanticHeadFinder();</span>
<span class="nc bnc" id="L126" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;SunJurafskyChineseHeadFinder&quot;)) {</span>
<span class="nc" id="L127">      return new SunJurafskyChineseHeadFinder();</span>
<span class="nc bnc" id="L128" title="All 2 branches missed.">    } else if(headfinderName.equalsIgnoreCase(&quot;TueBaDZHeadFinder&quot;)) {</span>
<span class="nc" id="L129">      return new TueBaDZHeadFinder();</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">    } else if (headfinderName.equalsIgnoreCase(&quot;UniversalSemanticHeadFinder&quot;)) {</span>
<span class="nc" id="L131">      return new UniversalSemanticHeadFinder();</span>
    } else {//try to find the class
      try {
<span class="nc" id="L134">        Class&lt;?&gt; headfinder = Class.forName(headfinderName);</span>
<span class="nc" id="L135">        HeadFinder hf = (HeadFinder) headfinder.newInstance();</span>
<span class="nc" id="L136">        return hf;</span>
<span class="nc" id="L137">      } catch (Exception e) {</span>
<span class="nc" id="L138">        return null;</span>
      }
    }
  }

  public static TreeReaderFactory getTreeReaderFactory() {
<span class="nc" id="L144">    return lookupTreeReaderFactory(prefs.get(PREF_TREE_READER_FACTORY, DEFAULT_TREE_READER_FACTORY));</span>
  }

  public static void setTreeReaderFactory(TreeReaderFactory trf) {
<span class="nc" id="L148">    prefs.put(PREF_TREE_READER_FACTORY, trf.getClass().getSimpleName());</span>
<span class="nc" id="L149">  }</span>

  static TreeReaderFactory lookupTreeReaderFactory(String trfName) {
<span class="nc bnc" id="L152" title="All 2 branches missed.">    if(trfName.equalsIgnoreCase(&quot;ArabicTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L153">      return new ArabicTreeReaderFactory();</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;ArabicTreeReaderFactory.ArabicRawTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L155">      return new ArabicTreeReaderFactory.ArabicRawTreeReaderFactory();</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;CTBTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L157">      return new CTBTreeReaderFactory();</span>
<span class="nc bnc" id="L158" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;NoEmptiesCTBTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L159">      return new NoEmptiesCTBTreeReaderFactory();</span>
<span class="nc bnc" id="L160" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;Basic categories only (LabeledScoredTreeReaderFactory)&quot;)) {</span>
<span class="nc" id="L161">      return new LabeledScoredTreeReaderFactory();</span>
<span class="nc bnc" id="L162" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;FrenchTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L163">      return new FrenchTreeReaderFactory();//PTB format</span>
<span class="nc bnc" id="L164" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;PennTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L165">      return new PennTreeReaderFactory();</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;StringLabeledScoredTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L167">      return new StringLabeledScoredTreeReaderFactory();</span>
<span class="nc bnc" id="L168" title="All 2 branches missed.">    } else if(trfName.equalsIgnoreCase(&quot;TregexTreeReaderFactory&quot;)) {</span>
<span class="nc" id="L169">      return new TregexPattern.TRegexTreeReaderFactory();</span>
    } else {//try to find the class
      try {
<span class="nc" id="L172">        Class&lt;?&gt; trfClass = Class.forName(trfName);</span>
<span class="nc" id="L173">        TreeReaderFactory trf = (TreeReaderFactory) trfClass.newInstance();</span>
<span class="nc" id="L174">        return trf;</span>
<span class="nc" id="L175">      } catch (Exception e) {</span>
<span class="nc" id="L176">        return new PennTreeReaderFactory();</span>
      }
    }
  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.8.201612092310</span></div></body></html>